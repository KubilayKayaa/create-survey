// http://alo153kbb.alo-tech.com/api/?function=reportsCDRLogs&startdate=2020-11-25%2000:00:00&finishdate=2020-11-26%2000:00:00&app_token=ahRzfm11c3RlcmktaGl6bWV0bGVyaXIfCxISVGVuYW50QXBwbGljYXRpb25zGICAuIi6k4QKDKIBFmFsbzE1M2tiYi5hbG8tdGVjaC5jb20&queue=
// {
//   surveyHeader:"Anket 1",
//   background:"img background",
//    Data: [
//  {
//   header: 'Soru1',
//      type: '3',
//      questionClass:'1',
//      required:'1',
//      questionData:'ozgur|1|img1,kubilay|2|img2',
//      otherquestion:'1'
//  },
//  {
//   header: 'Soru2',
//      type: '4',
//      questionClass:'2',
//      required:'0',
//      questionData:'',
//      otherquestion:'0'
//  }
//      ]
//  }

// {surveyHeader:"Anket Başlığı",surveyDescription:"Anket Açıklaması",surveyMedia:"Anket Medya",surveyLang:"1",surveyOptions:[[{"pageType":"1","endText":"Kapanış Mesajı","redirectUrl":"Yönlenecek Link"}]],Data: [{"surveyQuestionId":"surveyQuestionId1","surveyId":"temp","header":"Kısa Metin","type":"1","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"1","required":"1"}]},{"surveyQuestionId":"surveyQuestionId2","surveyId":"temp","header":"Paragraf","type":"2","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"2","required":"1"}]},{"surveyQuestionId":"surveyQuestionId3","surveyId":"temp","header":"Tarih","type":"3","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"3","required":"1"}]},{"surveyQuestionId":"surveyQuestionId4","surveyId":"temp","header":"Tarih (Saat)","type":"4","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"4","required":"1"}]},{"surveyQuestionId":"surveyQuestionId5","surveyId":"temp","header":"Dosya Yükleme","type":"5","questionMedia":"Soru Medya ","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"5","required":"1"}]},{"surveyQuestionId":"surveyQuestionId6","surveyId":"temp","header":"Eposta","type":"6","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"6","required":"1"}]},{"surveyQuestionId":"surveyQuestionId7","surveyId":"temp","header":"Telefon","type":"7","questionMedia":"Soru Medya","questionData":[],"otherquestion":"0","questionsOptions":[{"questionClass":"7","required":"0"}]},{"surveyQuestionId":"surveyQuestionId8","surveyId":"temp","header":"Değerlendirme","type":"8","questionMedia":"Soru Medya","questionData":[{"rankOneSelect":"1","rankTwoSelect":"7","ratingTextFirst":"Çok Kötü","ratingTextSecond":"Çok İyi"}],"otherquestion":"0","questionsOptions":[{"questionClass":"8","required":"1"}]},{"surveyQuestionId":"surveyQuestionId9","surveyId":"temp","header":"Çoklu Seçim","type":"9","questionMedia":"Soru Medya","questionData":[{"value":"1","content":"Çoklu Seçim 1","image":"Resim 1"},{"value":"2","content":"Çoklu Seçim 2","image":"Resim 2"},{"value":"3","content":"Çoklu Seçim 3","image":"Resim 3"}],"otherquestion":"1","questionsOptions":[{"questionClass":"9","required":"1"}]},{"surveyQuestionId":"surveyQuestionId10","surveyId":"temp","header":"Çoktan Seçmeli","type":"10","questionMedia":"Soru Medya","questionData":[{"value":"1","content":"Çoktan Seçmeli 1","image":"Resim 1"},{"value":"2","content":"Çoktan Seçmeli 2","image":"Resim 2"},{"value":"3","content":"Çoktan Seçmeli 3","image":"Resim 3"}],"otherquestion":"1","questionsOptions":[{"questionClass":"10","required":"1"}]},{"surveyQuestionId":"surveyQuestionId11","surveyId":"temp","header":"Açılır Menü","type":"11","questionMedia":"Soru Medya","questionData":[{"value":"1","content":"Açılır Menü 1"},{"value":"2","content":"Açılır Menü 2"},{"value":"3","content":"Açılır Menü 3"}],"otherquestion":"1","questionsOptions":[{"questionClass":"11","required":"1"}]}]}

//{"surveyHeader":"Form Başlığı","surveyDescription":"Form Açıklaması","surveyImage":"Form Resmi","surveyLang":"1","Data": [{"surveyQuestionId":"surveyQuestionId1","surveyId":"temp","header":"Kısa Metin","type":"1","questionClass":"1","questionData":[],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId2","surveyId":"temp","header":"Paragraf","type":"2","questionClass":"2","questionData":[],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId3","surveyId":"temp","header":"Tarih","type":"3","questionClass":"3","questionData":[],"required":"0","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId4","surveyId":"temp","header":"Tarih - Saat","type":"4","questionClass":"4","questionData":[],"required":"0","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId5","surveyId":"temp","header":"Dosya Yükleme","type":"5","questionClass":"5","questionData":[],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId6","surveyId":"temp","header":"E posta","type":"6","questionClass":"6","questionData":[],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId7","surveyId":"temp","header":"Telefon","type":"7","questionClass":"7","questionData":[],"required":"0","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId8","surveyId":"temp","header":"Değerlendirme","type":"8","questionClass":"8","questionData":[{"rankOneSelect":"1","rankTwoSelect":"10","ratingTextFirst":"Çok Kötü","ratingTextSecond":"Çok iyi"}],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId9","surveyId":"temp","header":"Çoklu Seçim","type":"9","questionClass":"9","questionData":[{"value":"1","content":"Çoklu Seçim İçerik 1","image":"Çoklu Seçim Resim 1"},{"value":"2","content":"Çoklu Seçim İçerik 1","image":"Çoklu Seçim Resim 2"},{"value":"3","content":"Çoklu Seçim İçerik 1","image":"Çoklu Seçim Resim 3"},{"value":"4","content":"Çoklu Seçim İçerik 1","image":"Çoklu Seçim Resim 4"}],"required":"0","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId10","surveyId":"temp","header":"Çoktan Seçmeli","type":"10","questionClass":"10","questionData":[{"value":"1","content":"Çoktan Seçmeli İçerik 1","image":"Çoktan Seçmeli Resim 1"},{"value":"2","content":"Çoktan Seçmeli İçerik 1","image":"Çoktan Seçmeli Resim 2"},{"value":"3","content":"Çoktan Seçmeli İçerik 1","image":"Çoktan Seçmeli Resim 3"},{"value":"4","content":"Çoktan Seçmeli İçerik 1","image":"Çoktan Seçmeli Resim 4"}],"required":"1","otherquestion":"0"},{"surveyQuestionId":"surveyQuestionId11","surveyId":"temp","header":"Açılır Menü","type":"11","questionClass":"11","questionData":[{"value":"1","content":"Açılır Menü İçerik 1"},{"value":"2","content":"Açılır Menü İçerik 2"},{"value":"3","content":"Açılır Menü İçerik 3"},{"value":"4","content":"Açılır Menü İçerik 4"}],"required":"0","otherquestion":"0"}]}

class Survey {
  constructor(
    surveyId,
    surveyName,
    surveyDescription,
    surveyLangId,
    surveyIsActive
  ) {
    this.surveyId = surveyId;
    this.surveyName = surveyName;
    this.surveyDescription = surveyDescription;
    this.surveyLangId = surveyLangId;
    this.surveyIsActive = surveyIsActive;
  }
}

class SurveyQuestion {
  constructor(
    surveyQuestionId,
    surveyId,
    header,
    type,
    questionMedia,
    questionData,
    otherquestion,
    questionsOptions
  ) {
    this.surveyQuestionId = surveyQuestionId;
    this.surveyId = surveyId;
    this.header = header;
    this.type = type;
    this.questionMedia = questionMedia;
    this.questionData = questionData;
    this.otherquestion = otherquestion;
    this.questionsOptions = questionsOptions;
  }

  //CreateJson
  createJSONForSurveys(
    surveyName,
    surveyDescription,
    surveyMedia,
    surveyLang,
    surveyOptions,
    surveyData
  ) {
    return `{"surveyHeader":"${surveyName}","surveyDescription":"${surveyDescription}","surveyMedia":"${surveyMedia}","surveyLang":"${surveyLang}","surveyOptions":[${JSON.stringify(
      surveyOptions
    )}],"Data": ${JSON.stringify(surveyData)}}`;
  }
}

let labelCount = 0;
class SurveyQuestionCreate extends SurveyQuestion {
  inputText(name) {
    return `<input class="form-control" type="text" maxlength="200" placeholder="Kısa Yanıt Metni" name="${name}">`;
  }

  textArea(name) {
    return `<textarea class="form-control"  maxlength="600" name="${name}" placeholder="Paragraf Yanıt Metni" rows="3"></textarea>`;
  }

  inputDate(name) {
    return `<input type="date" name="${name}">`;
  }

  inputDateWithHour(name) {
    return `<input type="datetime-local" name="${name}">`;
  }

  fileUpload(name) {
    return `<p class="fileUpload" name="${name}">Dosya Yükleme Alanı</p>`;
  }

  inputEmail(name) {
    return `<input type="email" class="form-control" name="${name}" placeholder="Eposta Adresiniz">`;
  }

  inputTelephone(name) {
    return `<input type="text" class="form-control telephone"  name="${name}" placeholder="Telefon Numaranız">`;
  }

  inputRating() {
    return ` <div class="ratingContainer"> <div class="ratingRankContainer d-flex align-items-center"> <select class="rankOneSelect"> <option value="0">0</option> <option value="1">1</option> </select> <select class="rankTwoSelect"> <option value="0">0</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> </select> </div><div class="ratingTextContainer"> <div class="ratingTexts d-flex align-items-center"> <label class="ratingTextFirst">0</label> <input type="text" class="form-control" class="questionHeader" placeholder="Değer girin"> </div><div class="ratingTexts d-flex align-items-center"> <label class="ratingTextSecond">0</label> <input type="text" class="form-control" class="questionHeader" placeholder="Değer girin"> </div></div></div>`;
  }

  inputCheckbox() {
    return `<div class="checkboxItems d-flex align-items-center justify-content-between"><input type="text" class="form-control checkBoxValue" placeholder="Değer Girin"><input type="text" class="form-control checkBoxContent" placeholder="İçerik"> <div class="checkboxIcons d-flex align-items-center"> <div class="checkboxIconsImgUpload d-flex align-items-center justify-content-between"><input type="text" class="form-control checkBoxImage" placeholder="Resim URL"> <i class="fas fa-images"></i> </div><i class="fas fa-plus fa-plus-checkbox"></i> </div></div>`;
  }

  inputSelect() {
    return `<div class="selectContainer"> <div class="selectItems d-flex align-items-center justify-content-between"><input type="text" class="form-control selectItemValue" placeholder="Değer Girin"> <input type="text" class="form-control selectItemContent" placeholder="İçerik"> <i class="fas fa-plus fa-plus-select"></i> </div></div>`;
  }

  createOtherSection() {
    labelCount++;
    return `<div class="otherSectionReq d-flex align-items-center"><input id="${labelCount}" type="checkbox"/><label for="${labelCount}">Diğer Seçeneği Olsun mu</label></div>`;
  }

  createOption() {
    let optionArray = [
      "0|Seçiniz",
      "1|Kısa Metin",
      "2|Paragraf Metni",
      "3|Tarih",
      "4|Tarih (Saat Dahil)",
      "5|Dosya Yükleme",
      "6|Eposta",
      "7|Telefon",
      "8|Değerlendirme",
      "9|Çoklu Seçim",
      "10|Çoktan Seçmeli",
      "11|Açılır Menü",
    ];
    let str = "";
    for (let i = 0; i < optionArray.length; i++) {
      str += `<option value="${optionArray[i].split("|")[0]}">${
        optionArray[i].split("|")[1]
      }</option>`;
    }
    return str;
  }

  //Answer Area Appent To Question Card
  createAnswerArea(answerArea, selectBoxValue, questionName) {
    if (selectBoxValue == 1) {
      $(answerArea).append(this.inputText(questionName));
    } else if (selectBoxValue == 2) {
      $(answerArea).append(this.textArea(questionName));
    } else if (selectBoxValue == 3) {
      $(answerArea).append(this.inputDate(questionName));
    } else if (selectBoxValue == 4) {
      $(answerArea).append(this.inputDateWithHour(questionName));
    } else if (selectBoxValue == 5) {
      $(answerArea).append(this.fileUpload(questionName));
    } else if (selectBoxValue == 6) {
      $(answerArea).append(this.inputEmail(questionName));
    } else if (selectBoxValue == 7) {
      $(answerArea).append(this.inputTelephone(questionName));
      //Telephone Mask
      $("input.telephone").mask("(999) 999-99-99");
    } else if (selectBoxValue == 8) {
      $(answerArea).append(this.inputRating(questionName));
    } else if (selectBoxValue == 9) {
      $(answerArea).append(this.createOtherSection());
      $(answerArea).append(this.inputCheckbox(questionName));
    } else if (selectBoxValue == 10) {
      $(answerArea).append(this.createOtherSection());
      $(answerArea).append(this.inputCheckbox(questionName));
    } else if (selectBoxValue == 11) {
      $(answerArea).append(this.createOtherSection());
      $(answerArea).append(this.inputSelect(questionName));
    }
  }
}

//Extensions
function createNameForInput(str) {
  return str
    .replace(/\s/g, "")
    .toLocaleLowerCase("en-US")
    .replaceAll("ö", "o")
    .replaceAll("ı", "i")
    .replaceAll("ğ", "g")
    .replaceAll("ş", "s")
    .replaceAll("ç", "c")
    .replaceAll("ü", "u")
    .replaceAll(/[^a-zA-Z ]/g, "");
}

let _surveyQuestionCreate = new SurveyQuestionCreate();
//Add New Question Area
var questionCount = $(".createSurvey").length;
$(".newquestionAdd").click(function () {
  questionCount++;
  $(".questionsArea").append(
    `<div class="createSurvey question${questionCount}" data-id="${questionCount}"> <div class="d-flex align-items-center justify-content-between surveyCreateSection"> <input type="text" class="form-control" class="questionHeader" placeholder="Soru Başlığı"> <select class="form-control">${_surveyQuestionCreate.createOption()}</select> </div><input type="text" class="form-control questionMedia" placeholder="Soru Medya"><div class="answerArea"></div><div class="answerBottom d-flex align-items-center justify-content-between"> <div class="checkboxIsMust d-flex align-items-center"> <input type="checkbox" id="isMust${questionCount}" name="isMust"> <label for="isMust${questionCount}">Bu alan zorunlu mu?</label><br></div><div class="d-flex flex-row-reverse"> <button type="button" class="btn btn-danger">Soruyu Sil</button> </div></div></div></div></div>`
  );
  $(function () {
    $(".questionsArea").sortable();
    $(".questionsArea").disableSelection();
  });
});

//Add Question By Selectbox
$(document).on("change", "select.form-control", function (e) {
  const questionName = createNameForInput(
    e.target.previousElementSibling.value
  );
  if (questionName != "") {
    const selectBoxValue = e.target.value;
    // const questionName = e.target.parentElement.parentElement.classList[1];
    const answerArea =
      e.target.parentElement.nextElementSibling.nextElementSibling;
    $(answerArea).empty();
    _surveyQuestionCreate.createAnswerArea(
      answerArea,
      selectBoxValue,
      questionName
    );
  } else {
    alert("lütfen soru girin");
    $(e.target).val(0);
  }
});

$(document).on("change", ".rankOneSelect", function (e) {
  const answerArea = e.target.parentElement.parentElement.parentElement;
  $(answerArea).find(".ratingTextFirst").html(e.target.value);
});

$(document).on("change", ".rankTwoSelect", function (e) {
  const answerArea = e.target.parentElement.parentElement.parentElement;
  $(answerArea).find(".ratingTextSecond").html(e.target.value);
});

$(document).on("click", ".fa-plus-select", function (e) {
  const answerArea = e.target.parentElement.parentElement.parentElement;
  let input = e.target.parentElement.querySelector(".selectItemContent");
  if (input.value == "") {
    alert("Boş bırakılamaz.");
  } else {
    $(answerArea).find("i").removeClass("fa-plus");
    $(answerArea).find("i").removeClass("fa-plus-select");
    $(answerArea).find("i").addClass("fa-trash-alt fa-trash-alt-select");
    $(answerArea).append(_surveyQuestionCreate.inputSelect());
  }
});

$(document).on("click", ".fa-plus-checkbox", function (e) {
  const answerArea = e.target.parentElement.parentElement.parentElement;
  let input =
    e.target.parentElement.parentElement.querySelector(".checkBoxContent");
  if (input.value == "") {
    alert("Boş bırakılamaz.");
  } else {
    $(answerArea).find("i").removeClass("fa-plus");
    $(answerArea).find("i").removeClass("fa-plus-checkbox");
    $(answerArea)
      .find(".checkboxIconsImgUpload")
      .next()
      .addClass("fa-trash-alt fa-trash-alt-checkbox");
    $(answerArea).append(_surveyQuestionCreate.inputCheckbox());
  }
});

$(document).on("click", ".fa-trash-alt-select", function (e) {
  const answerArea = e.target.parentElement.parentElement;
  answerArea.remove();
});

$(document).on("click", ".fa-trash-alt-checkbox", function (e) {
  const answerArea = e.target.parentElement.parentElement;
  answerArea.remove();
});

//Delete Question
$(document).on("click", ".createSurvey .btn-danger", function (e) {
  const confirmToDelete = confirm("Silme İşlemini Onaylıyor Musunuz ?");
  if (confirmToDelete) {
    const deleteQuestion = e.target.parentElement.parentElement.parentElement;
    $(deleteQuestion).remove();
  }
});

//GetJSONData
$(".getJson").click(function () {
  let Surveys = [];
  let surveyOptions = [];
  // let newSurveys = new SurveyQuestion("1","1","header","type","media","data","other","opt");
  // Surveys.push(newSurveys);
  // console.log(Surveys);

  // const jsonSTR = newSurveys.createJSONForSurveys("Anket 1","anket açıklama", "backgroundIMG", Surveys);
  // console.log(jsonSTR);

  const surveyName = $("#surveyName").val();
  const surveyDescription = $("#surveyDescription").val();
  const surveyMedia = $("#surveyMedia").val();
  const surveyEndText = $("#surveyEndText").val();
  const surveyRedirecturl = $("#surveyRedirecturl").val();
  surveyOptions.push({
    pageType: "1",
    endText: surveyEndText,
    redirectUrl: surveyRedirecturl,
  });
  console.log(surveyOptions);

  let questionId;
  let questionHeader;
  let questionType;
  let questionData;
  let questionOtherQuestion;
  let questionClass;
  let questionRequired;
  let questionMedia;
  let questionOptions = [];
  const listData = $(".createSurvey");
  for (i = 0; i < listData.length; i++) {
    questionType = $(listData[i]).find(".align-items-center select").val();
    if (questionType == 1) {
      // constructor(surveyQuestionId, surveyId, header, type, questionMedia, questionData, otherquestion,questionsOptions) {
      //   this.surveyQuestionId = surveyQuestionId;
      //   this.surveyId = surveyId;
      //   this.header = header;
      //   this.type = type;
      //   this.questionMedia = questionMedia;
      //   this.questionData = questionData;
      //   this.otherquestion = otherquestion;
      //   this.questionsOptions = questionsOptions;
      // }

      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 2) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 3) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 4) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 5) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 6) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 7) {
      //Fields
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionData = [];
      questionOtherQuestion = "0";
      questionOptions = [];
      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 8) {
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionOtherQuestion =
        $(listData[i]).find(".otherSectionReq input").is(":checked") == true
          ? "1"
          : "0";
      questionOptions = [];
      //QuestionData Fill
      questionData = [];
      let datas = [];
      let rankOneSelect = $(listData[i]).find(".rankOneSelect").val();
      let rankTwoSelect = $(listData[i]).find(".rankTwoSelect").val();
      let ratingTextFirst = $(listData[i])
        .find(".ratingTextFirst")
        .next()
        .val();
      let ratingTextSecond = $(listData[i])
        .find(".ratingTextSecond")
        .next()
        .val();
      datas.push({
        rankOneSelect: rankOneSelect,
        rankTwoSelect: rankTwoSelect,
        ratingTextFirst: ratingTextFirst,
        ratingTextSecond: ratingTextSecond,
      });
      questionData = datas;

      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 9) {
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionOtherQuestion =
        $(listData[i]).find(".otherSectionReq input").is(":checked") == true
          ? "1"
          : "0";
      questionOptions = [];
      //QuestionData Fill
      questionData = [];
      let datas = [];
      let items = $(listData[i]).find(".checkboxItems");
      let value;
      let content;
      let image;
      for (j = 0; j < items.length; j++) {
        value = $(items[j]).find(".checkBoxValue").val();
        content = $(items[j]).find(".checkBoxContent").val();
        image = $(items[j]).find(".checkBoxImage").val();
        datas.push({ value: value, content: content, image: image });
      }
      questionData = datas;

      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 10) {
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionOtherQuestion =
        $(listData[i]).find(".otherSectionReq input").is(":checked") == true
          ? "1"
          : "0";
      questionOptions = [];
      //QuestionDataFill
      questionData = [];
      let datas = [];
      let items = $(listData[i]).find(".checkboxItems");
      let value;
      let content;
      let image;
      for (j = 0; j < items.length; j++) {
        value = $(items[j]).find(".checkBoxValue").val();
        content = $(items[j]).find(".checkBoxContent").val();
        image = $(items[j]).find(".checkBoxImage").val();
        datas.push({ value: value, content: content, image: image });
      }
      questionData = datas;

      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    } else if (questionType == 11) {
      questionId = "surveyQuestionId" + $(listData[i]).attr("data-id");
      questionHeader = $(listData[i]).find(".align-items-center input").val();
      questionClass = $(listData[i]).attr("data-id");
      questionMedia = $(listData[i]).find(".questionMedia").val();
      questionOptions = [];
      //QuestionDataFill
      questionData = [];
      let datas = [];
      let items = $(listData[i]).find(".selectItems");
      let value;
      let content;
      for (j = 0; j < items.length; j++) {
        value = $(items[j]).find(".selectItemValue").val();
        content = $(items[j]).find(".selectItemContent").val();
        datas.push({ value: value, content: content });
      }
      questionData = datas;

      //Options
      questionClass = $(listData[i]).attr("data-id");
      questionRequired =
        $(listData[i]).find("input[name='isMust']").is(":checked") == true
          ? "1"
          : "0";
      questionOptions.push({
        questionClass: questionClass,
        required: questionRequired,
      });

      let newSurveys = new SurveyQuestion(
        questionId,
        "temp",
        questionHeader,
        questionType,
        questionMedia,
        questionData,
        questionOtherQuestion,
        questionOptions
      );
      Surveys.push(newSurveys);
    }

    // //Header
    // console.log($(listData[i]).find(".align-items-center input").val());

    // //Question Type
    // console.log($(listData[i]).find(".align-items-center select").val());

    // //Question Class
    // console.log($(listData[i]).attr("data-id"));

    // //QuestionData ---> Checkbox,RadioButton,Değerlendirme,SelectBox

    // //Required
    // console.log($(listData[i]).find(".switched"));

    //OtherStatements ---> Checkbox,RadioButton,SelectBox alanları için
  }

  const jsonSTR = _surveyQuestionCreate.createJSONForSurveys(
    surveyName,
    surveyDescription,
    surveyMedia,
    "1",
    surveyOptions,
    Surveys
  );
  console.log(jsonSTR);
});
